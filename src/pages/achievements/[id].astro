---
export const prerender = false; // これでSSRを有効化

const { id } = Astro.params;

// ページごとのデータを取得
const response = await fetch(`http://localhost:4321/api/achievements/${id}`);

// エラーハンドリング
if (!response.ok) {
  throw new Error(`Achievement with ID "${id}" not found.`);
}

// 成功した場合はデータをJSONとしてパース
const achievement = await response.json();
---

<html>
  <head>
    <title>Achievement: {achievement.title}</title>
  </head>
  <body>
    <h1>{achievement.title}</h1>
    <p>{achievement.description}</p>
  </body>
</html>